<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Cloud Browser | Concept</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
        <link rel="stylesheet" type="text/css" href="css/jquery-ui.structure.min.css" />
        <link rel="stylesheet" type="text/css" href="css/stage.css" />
        <link rel="stylesheet" type="text/css" href="css/card.css" />
           <link rel="stylesheet" type="text/css" href="css/flags.css" />
        
        <!-- LIBS -->
        <script src="js/jquery-3.1.0.min.js"></script>
        <script src="js/jquery-ui.min.js"></script>
        <script src="js/hammer.min.js"></script>
        <!-- SOURCES -->
        
        <script src="js/connector.js"></script>
        <script src="js/card.js"></script>
        <script src="js/menu.js"></script>
        <script src="js/stage.js"></script>
        
    </head>
    <body>
        <!-- ID "stage" -->
        <div id="stage" class="stage">
            <!-- STAGE SPACE FILLED PROGRAMATICALLY BY "CloudBrowser#render" -->
        </div>
        
        <div class="categories-menu" >
            
            <!-- EXAMPLE OF CUSTOM MENU -->
            <!-- ALL DATA CATEGORIES MENU SHOULD BE AN <UL> ELEMENT -->
            <ul name="topics" data-menu="categories" data-behaviour="exclusive" class="expandable" menu-max-size="600px" menu-min-size="100px">
            <a class="button" menu-action="expand" menu-name="topics">expandir</a>
            <a class="button" menu-action="collapse" menu-name="topics">colapsar</a>
                <!-- EACH <LI> WILL BE A CATEGORY SORTER -->
                <li class="title_li">TOPICS</li>
                <li class="menu-selected" data-categories="agricultural-innovations">Agricultural Innovations</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
                <li data-categories="cereals-south-asia">Cereals in South Asia</li>
                <!-- This element will toggle Cards containing categories that have both "wheat" AND "rye" -->
                <li data-categories="disease-stress-resistant-wheat">Disease and Stress Resistant Wheat</li>
                <li data-categories="drought-tolerant-maize">Drought Tolerant Maize</li>
                <li data-categories="food-future">Food for the Future</li>
                <li data-categories="gender">Gender</li>
                <li data-categories="heat-stress-tolerant-maize">Heat Stress Tolerant Maize</li>
                <li data-categories="nutrition-market-oriented-grains">Nutrition and Market Oriented Grains</li>
                <li data-categories="rapid-response">Rapid Response</li>
                <li data-categories="seed-distribution-impact-partnerships">Seed Distribution, Impact and Partnerships</li>
                <li data-categories="sustainable-intensification">Sustainable Intensification</li>
                <li data-categories="unlocking-genetic-resources">Unlocking Genetic Resources</li>
                <li data-categories="working-farmers">Working with Farmers</li>
                <li class="title_li">CIMMYT BY THE FUTURE</li>
                <li data-categories="f-1">ENHANCING CIMMYT’S IMPACT</li>
                <li data-categories="f-2">NOVEL GENETIC DIVERSITY AND TOOLS</li>
                <li data-categories="f-3">GIVING FARMERS EASIER ACCESS TO BETTER VARIETIES</li>
                <li data-categories="f-4">SUSTAINABLE INTENSIFICATION TO IMPROVE FARMER LIVELIHOODS</li>
                <li data-categories="f-5">REACHING THE LAST MILE</li>
                <li data-categories="f-6">BOOSTING GOOD NUTRITION AND INCOMES</li>
                <li data-categories="f-7">THE “CIMMYT ACADEMY”: A New Dimension of Capacity Building</li>

            </ul>
            <ul name="grains" data-menu="categories" data-behaviour="exclusive" >
                <!-- EACH <LI> WILL BE A CATEGORY SORTER -->
                <li data-categories="maize">Maize</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
                <li data-categories="wheat">Wheat</li>
                <li class="menu-selected" data-categories="wheat,maize">All</li>
            </ul>
            <ul name="regions" data-menu="categories" data-behaviour="acumulative" menu-max-size="600px" menu-min-size="100px">
            <a class="button" menu-action="expand" menu-name="regions">expandir</a>
            <a class="button" menu-action="collapse" menu-name="regions">colapsar</a>
                <!-- EACH <LI> WILL BE A CATEGORY SORTER -->
                
                <li class="title_li" data-categories="afghanistan,azerbaijan,bangladesh,bhutan,china,india,iran,kazakhstan,kyrgyzstan,maldives,nepal,pakistan,philippines,south-korea,sri-lanka,tajikistan,thailand,turkey,uzbekistan,yemen">Asia</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
               
                <!-- This element will toggle Cards containing categories that have both "wheat" AND "rye" -->
                
                <!-- This element will toggle Cards containing categories that have both "wheat" AND "rye" OR "corn" -->
                <li  data-categories="afghanistan"><span class="land-title">Afghanistan</span><span class="flag flag-af"></span></li>
                <li data-categories="azerbaijan"><span class="land-title">Azerbaijan</span><span class="flag flag-az"></span></li>
                <li  data-categories="bangladesh"><span class="land-title">BANGLADESH</span><span class="flag flag-bd"></span></li>
                <li  data-categories="bhutan"><span class="land-title">bhutan</span><span class="flag flag-bt"></span></li>
                 <li  data-categories="china"><span class="land-title">China</span><span class="flag flag-cn"></span></li>
                <li  data-categories="india"><span class="land-title">INDIA</span><span class="flag flag-in"></span></li>
                <li  data-categories="iran"><span class="land-title">Iran</span><span class="flag flag-ir"></span></li>
                <li  data-categories="kazakhstan"><span class="land-title">Kazakhstan</span><span class="flag flag-kz"></span></li>
                <li  data-categories="kyrgyzstan"><span class="land-title">Kyrgyzstan</span><span class="flag flag-kg"></span></li>
                <li  data-categories="maldives"><span class="land-title">maldives</span><span class="flag flag-mv"></span></li>
                <li  data-categories="nepal"><span class="land-title">nepal</span><span class="flag flag-np"></span></li>
                <li  data-categories="pakistan"><span class="land-title">pakistan</span><span class="flag flag-pk"></span></li>
                <li  data-categories="philippines"><span class="land-title">Philippines</span><span class="flag flag-ph"></span></li>
                <li  data-categories="south-korea"><span class="land-title">South Korea</span><span class="flag flag-kr"></span></li>
                <li  data-categories="sri-lanka"><span class="land-title">sri lanka</span><span class="flag flag-lk"></span></li>
                <li  data-categories="india"><span class="land-title">Tajikistan</span><span class="flag flag-tj"></span></li>
                <li  data-categories="thailand"><span class="land-title">Thailand</span><span class="flag flag-th"></span></li>
                <li  data-categories="turkey"><span class="land-title">Turkey</span><span class="flag flag-tr"></span></li>
                <li  data-categories="uzbekistan"><span class="land-title">Uzbekistan</span><span class="flag flag-uz"></span></li>
                <li  data-categories="yemen"><span class="land-title">Yemen</span><span class="flag flag-ye"></span></li>
                
                <li class="title_li" data-categories="armenia,benin,egypt,ethiopia,ghana,kenya,malawi,mali,mozambique,nigeria,rwanda,south-africa,sudan,tanzania,uganda,zambia,zimbabwe">Latinamerica</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
                <li  data-categories="colombia"><span class="land-title">Colombia</span><span class="flag flag-co"></span></li>
                <li  data-categories="cuba"><span class="land-title">Cuba</span><span class="flag flag-cu"></span></li>
                <li  data-categories="ecuador"><span class="land-title">ecuador</span><span class="flag flag-ec"></span></li>
                <li  data-categories="guatemala"><span class="land-title">guatemala</span><span class="flag flag-gt"></span></li>
                <!-- This element will toggle Cards containing categories that have both "wheat" AND "rye" -->
                 <li  data-categories="mexico"><span class="land-title">Mexico</span><span class="flag flag-mx"></span></li>
                <li  data-categories="peru"><span class="land-title">Peru</span><span class="flag flag-pe"></span></li>
                
                <li class="title_li" data-categories="colombia,cuba,ecuador,guatemala,peru,mexico">Africa</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
                <li  data-categories="armenia"><span class="land-title">Armenia</span><span class="flag flag-am"></span></li>
                <li  data-categories="benin"><span class="land-title">Benin</span><span class="flag flag-bj"></span></li>
                <li  data-categories="egypt"><span class="land-title">Egypt</span><span class="flag flag-eg"></span></li>
                <li  data-categories="ethiopia"><span class="land-title">Ethiopia</span><span class="flag flag-et"></span></li>
                <!-- This element will toggle Cards containing categories that have both "wheat" AND "rye" -->
                 <li  data-categories="kenya"><span class="land-title">Kenya</span><span class="flag flag-ke"></span></li>
                <li  data-categories="malawi"><span class="land-title">Malawi</span><span class="flag flag-mw"></span></li>
                <li  data-categories="mali"><span class="land-title">Mali</span><span class="flag flag-ml"></span></li>
                <li  data-categories="mozambique"><span class="land-title">Mozambique</span><span class="flag flag-mz"></span></li>
                <li  data-categories="nigeria"><span class="land-title">Nigeria</span><span class="flag flag-ng"></span></li>
                <li  data-categories="south-africa"><span class="land-title">South Africa</span><span class="flag flag-sa"></span></li>
                <li  data-categories="sudan"><span class="land-title">Sudan</span><span class="flag flag-sd"></span></li>
                <li  data-categories="tanzania"><span class="land-title">Tanzania</span><span class="flag flag-tz"></span></li>
                <li  data-categories="uganda"><span class="land-title">Uganda</span><span class="flag flag-ug"></span></li>
                <li  data-categories="zambia"><span class="land-title">Zambia</span><span class="flag flag-zm"></span></li>
                <li  data-categories="zimbabwe"><span class="land-title">Zimbabwe</span><span class="flag flag-zw"></span></li>
                
                <li class="title_li" data-categories="georgia,germany,italy,netherlands">Europe</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
                <li  data-categories="georgia"><span class="land-title">Georgia</span><span class="flag flag-ge"></span></li>
                <li  data-categories="germany"><span class="land-title">Germany</span><span class="flag flag-de"></span></li>
                <li  data-categories="italy"><span class="land-title">Italy</span><span class="flag flag-it"></span></li>
                <li  data-categories="netherlands"><span class="land-title">Netherlands</span><span class="flag flag-nl"></span></li>
                <!-- This element will toggle Cards containing categories that have both "wheat" AND "rye" OR "corn" -->
                <li class="title_li" data-categories="australia">Oceania</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
                <li  data-categories="australia"><span class="land-title">Australia</span><span class="flag flag-au"></span></li>
               
                <li class="title_li" data-categories="united-states">North America</li>
                <!-- This element will toggle Cards containing categories "wheat" OR "rye" -->
                <li  data-categories="united-states"><span class="land-title">United States</span><span class="flag flag-us"></span></li>
                <!-- This element will toggle Cards containing categories that have both "wheat" AND "rye" OR "corn" -->
                
            </ul>
            
            
            <!--   -->
            
        </div>


        <script>
            //ALL EXAMPLES BELLOW USE THE GLOBAL VARIABLE "CloudBrowser" DEFINED
            //TO BE A SINGLETON INSTANCE OF THE CLASS "Stage" FOR EACH DOCUMENT PAGE
            //THIS DEFINITION EXISTS INSIDE "stage.js" AND SHOULD NOT BE CHANGED
            //IF YOU DON'T KNOW WHAT YOU'RE DOING.

            //GLOBAL CONFIGURATIONS - CHANGE IF NEEDED
            CloudBrowser.Configurations = {
                /**
                 * Stage DOM id value
                 * @type {string}
                 */
                stage: "stage", //DEFUALT VALUE
                /**
                 * Categories Menu jQuery selector
                 * @type {string}
                 */
                menuSelector: "[data-menu='categories']", //DEFAULT VALUE
                /**
                 * Creates a custom menu based on the available categories.
                 * @type {boolean}
                 */
                automenu: false, //DEFAULT TRUE,
                /**
                 * Sets the base media path for loading the data
                 * @type String
                 */
                mediaPath:"assets/theme4"
            };


            //CLOUD BROWSER INIT
            //INVOKING THIS METHOD WILL INITIATE THE CLOUDBROWSER WITH THE SET CONFIGURATIONS
            CloudBrowser.init();


            //EXAMPLE OF DATA INJECTION
            //This example will inject the "exampleData" array into the CloudBrowser
            //This will clear the current stage of any objects and render the new injected data.
            CloudBrowser.render("js/allmedia_multicountry.json");
                
            //WHEN THE CLOUD BROWSER DETECTS INTERACTION IT WILL INSTRUCT THE API TO LOCK.
            //Lock when handle
            CloudBrowser.onHandle(function(){
                Connector.lock();
            });
            
            //WHEN THE CLOUD BROWSER DETECTS THE USER STOPED INTERACTING, IT WILL INSTRUCT THE API TO UNLOCK
            //Lock when handle stops
            CloudBrowser.onUnhandle(function(){
                Connector.unlock();
            });
            
            
            //MENU INIT
            CloudBrowser.menu.init();
            
            
            
            //OBSERVER WEBSOCKET URL THAT THIS INTERACTIVE WILL LISTEN TO
            Connector.configurations.websocket = "ws://localhost:4000/ws/observer"; //DEFAULT
            
            //THIS INTERACTIVE'S API URL ADDRESS
            Connector.configurations.api = "http://localhost:4000/api"; //DEFAULT


            //WHEN CONNECTOR'S "observe" METHOD IS USED A CALLBACK IS REGISTERED AND LATER INVOKED
            //IT IS INVOKED WHEN THE CONFIGURED "Websocket" PUSHES DATA BACK INTO THE CLIENT
            Connector.observe(function(data){
                
                //EXAMPLE OF INVOKING METHOD FOR SELECTING CATEGORIES. - CHANGE IF NEEDED
                //In this example the system will automaticaly try to override the
                // category selection every 10 seconds and select "corn" as filter; it will only achieve it if the
                // user hasn't interacted with the stage in the past 3 minutes (180 seconds)
                // Once this time has passed the system will be able to override.
                
                CloudBrowser.selectCategories(data.tags);
                
                //SINCE PUSHING DATA BY API CALL LOCKS THE NODE, A CALL TO UNLOCK IS SEND AFTER THE INFORMATION IS SET.
                //Unlock after data set
                Connector.unlock();
            });
            

        </script>
    </body>
</html>
