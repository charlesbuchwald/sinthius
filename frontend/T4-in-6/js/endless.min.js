/* jQuery Plugin Endless.js v2.2.0 | (c) 2014 totodunet, (http://totodu.net/) | Licensed under the MIT License (http://opensource.org/licenses/MIT) | Requires: jQuery 1.6.0+ */
!function(s){s.fn.scrollBottom=function(){return s(this).is(document)?s(this).height()-s(this).scrollTop()-s(window).height():s(this).prop("scrollHeight")-s(this).prop("offsetHeight")-s(this).scrollTop()},s.fn.scrollRight=function(){return s(this).is(document)?s(this).width()-s(this).scrollLeft()-s(window).width():s(this).prop("scrollWidth")-s(this).prop("offsetWidth")-s(this).scrollLeft()},s.fn.endless=function(l){var i,t,h=function(){},e={direction:"down",append:h,prepend:h,n_append:h,n_prepend:h},d=s.extend(e,l),c=s(this).height(),o=s(this).width(),r=s(this).scrollTop();s(this).is(document)?(t=s(this).scrollLeft(),"down"==d.direction||"up"==d.direction||"vertical"==d.direction?s("body").height()<=s(window).height()?(i='<div class="endless" style="height:'+(s(window).height()+2)+'px;">'+s("body").html()+"</div>",s("body").css("height",s(window).height()+2)):i='<div class="endless">'+s("body").html()+"</div>":s("body").width()<=s(window).width()?(i='<div class="endless" style="width:'+(s(window).width()+2)+'px;">'+s("body").html()+"</div>",s("body").css("width",s(window).width()+2)):i='<div class="endless">'+s("body").html()+"</div>",s("body").html(i)):(t=s(this).parent().scrollLeft(),i="down"==d.direction||"up"==d.direction||"vertical"==d.direction?s(this).offset().top+s(this).height()<=s(this).parent().height()?'<div class="endless" style="height:'+(s(this).parent().height()+2)+'px;">'+s(this).html()+"</div>":'<div class="endless">'+s(this).html()+"</div>":s(this).offset().left+s(this).width()<=s(this).parent().width()?'<div class="endless" style="width:'+(s(this).parent().width()+2)+'px;">'+s(this).html()+"</div>":'<div class="endless">'+s(this).html()+"</div>",s(this).html(i)),!d.scrollbar||"enable"!=d.scrollbar&&"disable"!=d.scrollbar||("disable"==d.scrollbar?"down"==d.direction||"up"==d.direction||"vertical"==d.direction?s(this).is(document)?s("body").css("overflow-y","hidden"):s(this).css("overflow-y","hidden"):s(this).is(document)?s("body").css("overflow-x","hidden"):s(this).parent().css("overflow-x","hidden"):"right"==d.direction||"left"==d.direction||"horizontal"==d.direction?s(this).is(document)?s("body").css("overflow-y","scroll"):s(this).css("overflow-y","scroll"):s(this).is(document)?s("body").css("overflow-x","scroll"):s(this).parent().css("overflow-x","scroll"));var n=!1,p=!1;return"down"==d.direction?s(this).scroll(function(){r<s(this).scrollTop()?(r=s(this).scrollTop(),0==s(this).scrollBottom()?(s(this).is(document)?s("body").append(s("body").html()):s(this).append(s(this).html()),s(this).scrollTop(r),n=!0,d.append.call()):s(this).scrollTop()>=c&&(s(this).is(document)?s("body").children("endless:first-child").remove():s(this).children(".endless:first-child").remove(),s(this).scrollTop(1),r=1,n=!1,d.n_prepend.call())):n&&s(this).scrollBottom()>=c&&(s(this).is(document)?(s("body").children(".endless:last-child").remove(),s(this).scrollTop(c-s(window).height()-1),r=s(this).scrollTop()):(s(this).children(".endless:last-child").remove(),s(this).scrollTop(c-1),r=c-1),n=!1,d.n_prepend.call())}):"up"==d.direction?s(this).scroll(function(){r>=s(this).scrollTop()?(r=s(this).scrollTop(),0==s(this).scrollTop()?(s(this).is(document)?s("body").prepend(s("body").html()):s(this).prepend(s(this).html()),s(this).scrollTop(c),r=s(this).scrollTop(),p=!0,d.prepend.call()):s(this).scrollBottom()>=c&&(s(this).is(document)?(s("body").children(".endless:last-child").remove(),s(this).scrollTop(c-s(window).height()-1),r=s(this).scrollTop()):(s(this).children(".endless:last-child").remove(),s(this).scrollTop(c-1),r=c-1),p=!1,d.n_append.call())):p&&s(this).scrollTop()>=c&&(s(this).is(document)?s("body").children(".endless:first-child").remove():s(this).children(".endless:first-child").remove(),s(this).scrollTop(1),r=1,p=!1,d.n_append.call())}):"vertical"==d.direction&&s(this).scroll(function(){r<s(this).scrollTop()?(r=s(this).scrollTop(),0==s(this).scrollBottom()?(s(this).is(document)?s("body").append(s("body").html()):s(this).append(s(this).html()),s(this).scrollTop(r),n=!0,d.append.call()):s(this).scrollTop()>=c&&(s(this).is(document)?s("body").children(".endless:first-child").remove():s(this).children(".endless:first-child").remove(),s(this).scrollTop(1),r=1,p=!1,d.n_prepend.call())):r>=s(this).scrollTop()&&(r=s(this).scrollTop(),0==s(this).scrollTop()?(s(this).is(document)?s("body").prepend(s("body").html()):s(this).prepend(s(this).html()),s(this).scrollTop(c),r=s(this).scrollTop(),p=!0,d.prepend.call()):s(this).scrollBottom()>=c&&(s(this).is(document)?(s("body").children(".endless:last-child").remove(),s(this).scrollTop(c-s(window).height()-1),r=s(this).scrollTop()):(s(this).children(".endless:last-child").remove(),s(this).scrollTop(c-1),r=c-1),n=!1,d.n_append.call()))}),"right"==d.direction?s(this).is(document)?s(this).scroll(function(){t<s(this).scrollLeft()?(t=s(this).scrollLeft(),0==s(this).scrollRight()?(s("body").css("width",2*s("body").width()),s("body").children(".endless").css("float","left"),s("body").append(s("body").html()),s("body").children(".endless:nth-child(2)").css("float","right"),s(this).scrollLeft(t),n=!0,d.append.call()):s(this).scrollLeft()>=o&&(s("body").children(".endless:first-child").remove(),s("body").css("width",s("body").width()/2),s(this).scrollLeft(1),t=1,n=!1,d.n_prepend.call())):n&&s(this).scrollRight()>=o&&(s("body").children(".endless:last-child").remove(),s("body").css("width",s("body").width()/2),s(this).scrollLeft(o-s(window).width()-1),t=s(this).scrollLeft(),n=!1,d.n_prepend.call())}):s(this).parent().scroll(function(){t<s(this).scrollLeft()?(t=s(this).scrollLeft(),0==s(this).scrollRight()?(s(this).children().css("width",2*s(this).children().children(".endless").width()),s(this).children().children(".endless").css("float","left"),s(this).children().append(s(this).children().html()),s(this).children().children(".endless:nth-child(2)").css("float","right"),s(this).scrollLeft(t),n=!0,d.append.call()):s(this).scrollLeft()>=o&&(s(this).children().children(".endless:first-child").remove(),s(this).children().css("width",s(this).children().width()/2),s(this).scrollLeft(1),t=1,n=!1,d.n_prepend.call())):n&&s(this).scrollRight()>=0&&(s(this).children().children(".endless:last-child").remove(),s(this).children().css("width",s(this).children().children(".endless").width()),s(this).scrollLeft(o-1),t=o-1,n=!1,d.n_prepend.call())}):"left"==d.direction?s(this).is(document)?s(this).scroll(function(){t>=s(this).scrollLeft()?(t=s(this).scrollLeft(),0==s(this).scrollLeft()?(s("body").css("width",2*s("body").width()),s("body").children(".endless").css("float","right"),s("body").prepend(s("body").html()),s("body").children(".endless:first-child").css("float","left"),s(this).scrollLeft(o),t=s(this).scrollLeft(),p=!0,d.prepend.call()):s(this).scrollRight()>=o&&(s("body").children(".endless:last-child").remove(),s("body").css("width",s("body").width()/2),s(this).scrollLeft(o-s(window).width()-1),t=s(this).scrollLeft(),p=!1,d.n_append.call())):p&&s(this).scrollLeft()>=o&&(s("body").children(".endless:first-child").remove(),s("body").css("width",s("body").width()/2),s(this).scrollLeft(1),t=1,p=!1,d.n_append.call())}):s(this).parent().scroll(function(){t>=s(this).scrollLeft()?(t=s(this).scrollLeft(),0==s(this).scrollLeft()?(s(this).children().css("width",2*s(this).children().width()),s(this).children().children(".endless").css("float","right"),s(this).children().prepend(s(this).children().html()),s(this).children().children(".endless:first-child").css("float","left"),s(this).scrollLeft(o),t=s(this).scrollLeft(),p=!0,d.prepend.call()):s(this).scrollRight()>=o&&(s(this).children().children(".endless:last-child").remove(),s(this).children().css("width",s(this).children().width()/2),s(this).scrollLeft(o-1),t=o-1,p=!1,d.n_append.call())):p&&s(this).scrollLeft()>=o&&(s(this).children().children(".endless:first-child").remove(),s(this).children().css("width",s(this).children().width()/2),s(this).scrollLeft(1),t=1,p=!1,d.n_append.call())}):"horizontal"==d.direction&&(s(this).is(document)?s(this).scroll(function(){t<s(this).scrollLeft()?(t=s(this).scrollLeft(),0==s(this).scrollRight()?(s("body").css("width",2*s("body").width()),s("body").children(".endless").css("float","left"),s("body").append(s("body").html()),s("body").children(".endless:nth-child(2)").css("float","right"),s(this).scrollLeft(t),n=!0,d.append.call()):s(this).scrollLeft()>=o&&(s("body").children(".endless:first-child").remove(),s("body").css("width",s("body").width()/2),s(this).scrollLeft(1),t=1,p=!1,d.n_prepend.call())):t>=s(this).scrollLeft()&&(t=s(this).scrollLeft(),0==s(this).scrollLeft()?(s("body").css("width",2*s("body").width()),s("body").children(".endless").css("float","right"),s("body").prepend(s("body").html()),s("body").children(".endless:first-child").css("float","left"),s(this).scrollLeft(o),t=s(this).scrollLeft(),p=!0,d.prepend.call()):s(this).scrollRight()>=o&&(s("body").children(".endless:last-child").remove(),s("body").css("width",s("body").width()/2),s(this).scrollLeft(o-s(window).width()-1),t=s(this).scrollLeft(),n=!1,d.n_append.call()))}):s(this).parent().scroll(function(){t<s(this).scrollLeft()?(t=s(this).scrollLeft(),0==s(this).scrollRight()?(s(this).children().css("width",2*s(this).children().width()),s(this).children().children(".endless").css("float","left"),s(this).children().append(s(this).children().html()),s(this).children().children(".endless:nth-child(2)").css("float","right"),s(this).scrollLeft(t),n=!0,d.append.call()):s(this).scrollLeft()>=o&&(s(this).children().children(".endless:first-child").remove(),s(this).children().css("width",s(this).children().width()/2),s(this).scrollLeft(1),t=1,p=!1,d.n_prepend.call())):t>=s(this).scrollLeft()&&(t=s(this).scrollLeft(),0==s(this).scrollLeft()?(s(this).children().css("width",2*s(this).children().width()),s(this).children().children(".endless").css("float","right"),s(this).children().prepend(s(this).children().html()),s(this).children().children(".endless:first-child").css("float","left"),s(this).scrollLeft(o),t=s(this).scrollLeft(),p=!0,d.prepend.call()):s(this).scrollRight()>=o&&(s(this).children().children(".endless:last-child").remove(),s(this).children().css("width",s(this).children().width()/2),s(this).scrollLeft(o-1),t=o-1,n=!1,d.n_append.call()))})),this}}(jQuery);