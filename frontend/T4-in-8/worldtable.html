<!DOCTYPE html>
<html>
    <head>
        <title>CIMMYT | World Table</title>
        <meta charset="UTF-8">
        <!--meta name="viewport" content="width=device-width, initial-scale=1.0"-->

        <link href="css/card.css" rel="stylesheet" type="text/css" />
        <link href="css/worldtable.css" rel="stylesheet" type="text/css" />

        <script src="js/jquery-3.1.0.min.js"></script>
        <script src="js/hammer.min.js"></script>
        <script src="js/d3.min.js"></script>
        <script src="js/d3-ease.min.js"></script>
        <script src="js/d3-array.v1.min.js"></script>
        <script src="js/d3-geo.v1.min.js"></script>
        <script src="js/d3-geo-projection.v1.min.js"></script>
        <script src="js/topojson.min.js"></script>

        <script src="js/menu.js"></script>
        <script src="js/map.card.js"></script>
        <script src="js/map.point.js"></script>
        <script src="js/map.js"></script>


        <script src="js/connector.js"></script>
    </head>
    <body>
        <div class="table">
            <div class="menu bottom-menu menu-fixed">
                <ul data-menu="categories" data-behaviour="exclusive">
                    <!-- 13 topics -->
                    <li class="menu-selected" data-categories="agricultural-innovations">Agricultural Innovations</li>
                    <li data-categories="cereals-south-asia">Cereals South Asia</li>
                    <li data-categories="disease-stress-resistant-wheat">Disease Stress Resistant Wheat</li>
                    <li data-categories="drought-tolerant-maize">Drought Tolerant Maize</li>
                    <li data-categories="food-future">Food Future</li>
                    <li data-categories="gender">Gender</li>
                    <li data-categories="heat-stress-tolerant-maize">Heat Stress Tolerant Maize</li>
                    <li data-categories="nutrition-market-oriented-grains">Nutrition Market Oriented Grains</li>
                    <li data-categories="rapid-response">Rapid Response</li>
                    <li data-categories="seed-distribution-impact-partnerships">Seed Distribution Impact Partnerships</li>
                    <li data-categories="sustainable-intensification">Sustainable Intensification</li>
                    <li data-categories="unlocking-genetic-resources">Unlocking Genetic Resources</li>
                    <li data-categories="working-farmers">Working Farmers</li>
                    
                    <!-- 7 Futures -->
                    <li data-categories="f-1">Future 1</li>
                    <li data-categories="f-2">Future 2</li>
                    <li data-categories="f-3">Future 3</li>
                    <li data-categories="f-4">Future 4</li>
                    <li data-categories="f-5">Future 5</li>
                    <li data-categories="f-6">Future 6</li>
                    <li data-categories="f-7">Future 7</li>
                </ul>
            </div>
            <!--div class="menu menu-top-left">
                <span class="menu-title">Regions</span>
                <ul data-menu="categories">
                    <li data-categories="africa">Africa</li>
                    <li data-categories="southamerica">South America</li>
                    <li data-categories="asia">Asia</li>
                    <li data-categories="middleeast">Middle East</li>
                </ul>
            </div>
            <div class="menu menu-top-right">
                <span class="menu-title">Crops</span>
                <ul data-menu="categories">
                    <li data-categories="wheat">Wheat</li>
                    <li data-categories="corn">Corn</li>
                    <li data-categories="rice">Rice</li>
                    <li data-categories="soy">Soy</li>
                </ul>
            </div>
            <div class="menu menu-bottom-left">
                <span class="menu-title">Decades</span>
                <ul data-menu="categories">
                    <li data-categories="1980">80's</li>
                    <li data-categories="1990">90's</li>
                    <li data-categories="2000">2000's</li>
                    <li data-categories="2010">2010's</li>
                </ul>
            </div>
            <div class="menu menu-bottom-right">
                <span class="menu-title">Colors</span>
                <ul data-menu="categories">
                    <li data-categories="red">Red</li>
                    <li data-categories="blue">Blue</li>
                    <li data-categories="green">Green</li>
                    <li data-categories="yellow">Yellow</li>
                </ul>
            </div-->
            <div id="stage" class="worldmap">
                <!-- THIS AREA WILL BE PROGRAMATICALY FILLED WITH THE MAP -->
            </div>
        </div>
        <script>
            //CONNECTOR INIT
            //SET THE CONNECTOR
            Connector.connect("name", [
                "t4_in_1",
                "t4_in_2",
                "t4_in_3"
            ]);




            //ALL EXAMPLES BELLOW USE THE GLOBAL VARIABLE "WorldMap" DEFINED
            //TO BE A SINGLETON INSTANCE OF THE CLASS "WorldStage" FOR EACH DOCUMENT PAGE
            //THIS DEFINITION EXISTS INSIDE "map.js" AND SHOULD NOT BE CHANGED
            //IF YOU DON'T KNOW WHAT YOU'RE DOING.

            //GLOBAL CONFIGURATIONS - CHANGE IF NEEDED
            WorldMap.Configurations = {
                /**
                 * Map stage id value
                 * @type {string}
                 */
                stage: "stage",
                /**
                 * Categories Menu jQuery selector
                 * @type {string}
                 */
                menuSelector: "[data-menu='categories']",
                /**
                 * Menu behaviour
                 * @type Boolean
                 */
                menuType: Menu.TYPE_FILTER, //DEFAULT
                /**
                 * Sets the base media path for loading the data
                 * @type String
                 */
                mediaPath:"assets",
                /**
                 * Minimal separation in laitude and longitude degrees
                 * @type Number
                 */
                pointMinimalSeparation:-3,
                /**
                 * Minimal separation in laitude and longitude degrees
                 * @type Number
                 */
                pointMaximalSeparation:3
            };



            //WORLD MAP INIT
            //INVOKING THIS METHOD WILL INITIATE THE WORLSTAGE WITH THE SET CONFIGURATIONS
            WorldMap.init();

            
            //EXAMPLE OF NODE ELEMENTS (Map Points) RENDERING -->
            WorldMap.render("js/allmedia-singlecountry.json");

            //SETS THE BROADCAST MODE
            WorldMap.setBroadcastMode(true);

            //WHEN THE WORLDMAP GETS TAGS SELECTED ON BROADCAST MODE THEN
            //USING THE CONNECTOR OBJECT THE DATA IS SET.
            WorldMap.onBroadcastSelection(function (tags) {
                Connector.broadcast({tags:tags});
            });


        </script>
    </body>
</html>
